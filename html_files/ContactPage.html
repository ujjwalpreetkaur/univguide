<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baru_Sahib_Navigation_System</title>
    <link rel="stylesheet" href="/css_files/contactpage.css">
</head>
<body>
    <section class="header">
        <div class="logo">
            <img src="/assets/logo.jpeg" alt="univguide">
        </div>
        <div class="heading">
            <h1>Baru Sahib Navigation System</h1>
            <h2>" Valley Of Divine Peace "</h2>
        </div>
    </section>
        
    <div class="menu-container">
        <nav class="nav-links" id="navLinks">
            <a href="/html_files/index.html"><b>Home</b></a>
            <a href="/html_files/AboutUs.html"><b>About</b></a>
            <a href="/html_files/campus.html"><b>Campus</b></a>
            <a href="/html_files/ContactPage.html"><b>Contact</b></a>
        </nav>
    </div>
        
    <section>
        <div class="Contact">
            <form id="contactForm" onsubmit="return validateForm()" action="http://localhost:8080/php_files/connect.php" method="POST">
                <h2>Contact Page</h2>
                <label for="name">Name</label>
                <input type="text" name="name" id="name" placeholder="Enter Your Name" required>
                    
                
                    <label for="email">Email</label>
                    <input type="email" name="email" id="email" placeholder="Enter Your E-mail ID" required>
                    
                
                    <label for="message">Message</label>
                    <input type="text" name="message" id="message" placeholder="Your Message" required>
                    
                <button type="submit">Send</button>
            </form>
        </div>
    </section>

    <footer>
       <div class="footer-container">
            <div class="foot1">
                <img src="/assets/logo.jpeg" alt="logo">
            </div>
            <div class="foot2">
                <p>Other Useful Links:</p>
                <li><a href="https://eternaluniversity.edu.in/#">Eternal University</a></li>
                <li><a href="https://www.akalacademybarusahib.com/">Akal Academy</a></li>
            </div>
            <div class="foot3">
                <p>APIs Used:</p>
                <li>Google Maps</li>
                <li>MapMyIndia</li>
            </div>
       </div>
        <div class="footer-text-container">
            <a href="/html_files/ContactPage.html">Contact Us</a>
            <p class="footer-text">© 2023 Baru Sahib Navigation System. All rights reserved.</p>
            
        </div>
    </footer>
    

    <script>
        function validateForm() {
    // Get form input values
    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    const message = document.getElementById('message').value.trim();

     // Basic validation
    if (!name || !email || !message) {
        alert("Please fill in all fields.");
        return false;
    }

     // Email format check using regex
    const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
    if (!email.match(emailPattern)) {
        alert("Please enter a valid email address.");
        return false;
    }

     // Simulate sending to server
    const formData = {name, email, message};
        


     console.log("Form submitted successfully!", formData);

     // You can later replace this part with a real fetch to backend
     /*
    fetch('your-backend-endpoint', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
        alert("Message sent successfully!");
    })
    .catch(error => {
        alert("There was an error sending your message.");
        console.error(error);
    });
     */

    alert("Form submitted successfully!");

    // Prevent default form submission
     return false;
 }










document.addEventListener("DOMContentLoaded", () => {
    const form = document.querySelector("form");

    form.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Validation
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const message = document.getElementById("message").value.trim();

        if (!name || !email || !message) {
            alert("Please fill in all fields.");
            return;
        }

        const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
        if (!email.match(emailPattern)) {
            alert("Please enter a valid email address.");
            return;
        }

        // Send data via fetch
        const response = await fetch("http://localhost:8080/univguide-1/connect.php", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ name, email, message })
        });

        try {
            const result = await response.json();
            console.log(result); // Optional debug

            if (result.success) {
                alert("✅ Message sent successfully!");
                form.reset();
            } else {
                alert("❌ Error: " + result.message);
            }
        } catch (err) {
            alert("❌ Unexpected error occurred.");
            console.error(err);
        }
    });
});


    </script>
</body>
</html>